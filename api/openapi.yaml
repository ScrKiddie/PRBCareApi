openapi: 3.0.0
info:
  title: PRB Care API
  version: 1.0.0
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    login:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
        tokenCaptcha:
          type: string
      required:
        - username
        - password
        - tokenCaptcha

    password:
      type: object
      properties:
        currentPassword:
          type: string
        newPassword:
          type: string
        confirmPassword:
          type: string
      required:
        - currentPassword
        - newPassword
        - confirmPassword

    get_puskesmas:
      type: object
      properties:
        id:
          type: integer
        namaPuskesmas:
          type: string
        username:
          type: string
        telepon:
          type: string
        alamat:
          type: string
        waktuOperasional:
          type: string
    get_apotek:
      type: object
      properties:
        id:
          type: integer
        namaApotek:
          type: string
        telepon:
          type: string
        alamat:
          type: string
        waktuOperasional:
          type: string
    get_pengguna:
      type: object
      properties:
        id:
          type: integer
        namaLengkap:
          type: string
        telepon:
          type: string
        teleponKeluarga:
          type: string
        alamat:
          type: string
        username:
          type: string

    get_pasien:
      type: object
      properties:
        id:
          type: integer
        noRekamMedis:
          type: string
        adminPuskesmas:
          $ref: '#/components/schemas/get_puskesmas'
        pengguna:
          $ref: '#/components/schemas/get_pengguna'
        tanggalDaftar:
          type: integer
        status:
          type: string

  responses:
    BadRequestError:
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Bad request
    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Internal server error
    NotFoundError:
      description: Not found
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Not found
    UnauthorizedError:
      description: Unauthorized
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Unauthorized
    ForbiddenError:
      description: Forbidden
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
                example: Forbidden

tags:
  - name: Admin Super
    description: Operasi yang berhubungan dengan admin super
  - name: Admin Puskesmas
    description: Operasi yang berhubungan dengan admin puskesmas
  - name: Admin Apotek
    description: Operasi yang berhubungan dengan admin apotek
  - name: Pengguna
    description: Operasi yang berhubungan dengan pengguna
  - name: Obat
    description: Operasi yang berhubungan dengan obat
  - name: Pasien
    description: Operasi yang berhubungan dengan pasien
  - name: Kontrol Balik
    description: Operasi yang berhubungan dengan kontrol balik pasien
  - name: Pengambilan Obat
    description: Operasi yang berhubungan dengan pengambilan obat
  - name: Artikel
    description: Operasi yang berhubungan dengan artikel
paths:
  /api/admin-super/login:
    post:
      tags:
        - Admin Super
      summary: Login super admin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/login'
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMiIsImV4cCI6MTUxNjIzOTAyMn0.Ipl8G8Qcfp7OWaNfPeHCFEBXRjVcgHWszgmxHDfTps0
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Username atau password salah
        '400':
          $ref: '#/components/responses/BadRequestError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-super/current/password:
    patch:
      tags:
        - Admin Super
      summary: Update super admin password
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/password'
      responses:
        '200':
          description: Password berhasil diganti
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Password berhasil diganti
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Password saat ini salah
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /api/admin-puskesmas/login:
    post:
      tags:
        - Admin Puskesmas
      summary: Login admin puskesmas
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/login'
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMiIsImV4cCI6MTUxNjIzOTAyMn0.Ipl8G8Qcfp7OWaNfPeHCFEBXRjVcgHWszgmxHDfTps0
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Username atau password salah
        '400':
          $ref: '#/components/responses/BadRequestError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /api/admin-puskesmas/current:
    get:
      tags:
        - Admin Puskesmas
      summary: Get current admin puskesmas
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  waktuOperasional:
                    type: string
                  namaPuskesmas:
                    type: string
                  telepon:
                    type: string
                  alamat:
                    type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Admin Puskesmas
      summary: Update current admin puskesmas
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waktuOperasional:
                  type: string
                namaPuskesmas:
                  type: string
                telepon:
                  type: string
                alamat:
                  type: string
              required:
                - namaPuskesmas
                - waktuOperasional
                - telepon
                - alamat
      responses:
        '200':
          description: Admin puskesmas berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin puskesmas berhasil diupdate
        '409':
          description: No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Nomor hp sudah digunakan
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-puskesmas/current/password:
    patch:
      tags:
        - Admin Puskesmas
      summary: Update admin puskesmas password
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/password'
      responses:
        '200':
          description: Password berhasil diganti
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Password berhasil diganti
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          description: Password saat ini salah
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Password saat ini salah
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-puskesmas:
    get:
      tags:
        - Admin Puskesmas
      summary: Get all admin puskesmas
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/get_puskesmas'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    post:
      tags:
        - Admin Puskesmas
      summary: Create new admin puskesmas
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waktuOperasional:
                  type: string
                namaPuskesmas:
                  type: string
                username:
                  type: string
                password:
                  type: string
                telepon:
                  type: string
                alamat:
                  type: string
              required:
                - telepon
                - alamat
                - namaPuskesmas
                - waktuOperasional
                - username
                - password
      responses:
        '201':
          description: Admin puskesmas berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin puskesmas berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-puskesmas/{id}:
    get:
      tags:
        - Admin Puskesmas
      summary: Get admin puskesmas by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/get_puskesmas'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Admin Puskesmas
      summary: Update admin puskesmas
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waktuOperasional:
                  type: string
                namaPuskesmas:
                  type: string
                username:
                  type: string
                password:
                  type: string
                  nullable: true
                telepon:
                  type: string
                alamat:
                  type: string
              required:
                - alamat
                - telepon
                - namaPuskesmas
                - waktuOperasional
                - username
      responses:
        '200':
          description: Admin puskesmas berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin puskesmas berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Admin Puskesmas
      summary: Delete admin puskesmas
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Admin puskesmas berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin puskesmas berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Admin puskesmas masih terkait dengan data pasien yang ada
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Admin puskesmas masih terkait dengan data pasien yang ada
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-apotek/login:
    post:
      tags:
        - Admin Apotek
      summary: Login admin apotek
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/login'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMiIsImV4cCI6MTUxNjIzOTAyMn0.Ipl8G8Qcfp7OWaNfPeHCFEBXRjVcgHWszgmxHDfTps0
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Username atau password salah
        '400':
          $ref: '#/components/responses/BadRequestError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-apotek/current:
    get:
      tags:
        - Admin Apotek
      summary: Get current admin apotek
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  waktuOperasional:
                    type: string
                  namaApotek:
                    type: string
                  telepon:
                    type: string
                  alamat:
                    type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Admin Apotek
      summary: Update current admin apotek
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waktuOperasional:
                  type: string
                namaApotek:
                  type: string
                telepon:
                  type: string
                alamat:
                  type: string
              required:
                - namaApotek
                - waktuOperasional
                - telepon
                - alamat
      responses:
        '200':
          description: Admin apotek berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin apotek berhasil diupdate
        '409':
          description: No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Nomor hp sudah digunakan
        '400':
          $ref: '#/components/responses/BadRequestError'

        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /api/admin-apotek/current/password:
    patch:
      tags:
        - Admin Apotek
      summary: Update admin apotek password
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/password'
      responses:
        '200':
          description: Password berhasil diganti
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Password berhasil diganti
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          description: Password saat ini salah
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Password saat ini salah
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-apotek:
    get:
      tags:
        - Admin Apotek
      summary: Get all admin apotek
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/get_apotek'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    post:
      tags:
        - Admin Apotek
      summary: Create new admin apotek
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waktuOperasional:
                  type: string
                namaApotek:
                  type: string
                username:
                  type: string
                password:
                  type: string
                telepon:
                  type: string
                alamat:
                  type: string
              required:
                - namaApotek
                - waktuOperasional
                - username
                - password
                - telepon
                - alamat
      responses:
        '201':
          description: Admin apotek berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin apotek berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/admin-apotek/{id}:
    get:
      tags:
        - Admin Apotek
      summary: Get admin apotek by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/get_apotek'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Admin Apotek
      summary: Update admin apotek
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waktuOperasional:
                  type: string
                namaApotek:
                  type: string
                username:
                  type: string
                password:
                  type: string
                  nullable: true
                telepon:
                  type: string
                alamat:
                  type: string
              required:
                - namaApotek
                - waktuOperasional
                - username
                - telepon
                - alamat
      responses:
        '200':
          description: Admin apotek berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin apotek berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Admin Apotek
      summary: Delete admin apotek
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Admin apotek berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Admin apotek berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Admin apotek masih terkait dengan data obat yang ada
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Admin apotek masih terkait dengan data obat yang ada
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna/register:
    post:
      tags:
        - Pengguna
      summary: Register new pengguna
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namaLengkap:
                  type: string
                telepon:
                  type: string
                teleponKeluarga:
                  type: string
                alamat:
                  type: string
                username:
                  type: string
                password:
                  type: string
                tokenCaptcha:
                  type: string
              required:
                - namaLengkap
                - telepon
                - teleponKeluarga
                - alamat
                - username
                - password
                - tokenCaptcha
      responses:
        '201':
          description: Pengguna berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengguna berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna/login:
    post:
      tags:
        - Pengguna
      summary: Login pengguna
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/login'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMiIsImV4cCI6MTUxNjIzOTAyMn0.Ipl8G8Qcfp7OWaNfPeHCFEBXRjVcgHWszgmxHDfTps0
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Username atau password salah
        '400':
          $ref: '#/components/responses/BadRequestError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna/current:
    get:
      tags:
        - Pengguna
      summary: Get current pengguna
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      namaLengkap:
                        type: string
                      telepon:
                        type: string
                      teleponKeluarga:
                        type: string
                      alamat:
                        type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Pengguna
      summary: Update current pengguna
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namaLengkap:
                  type: string
                telepon:
                  type: string
                teleponKeluarga:
                  type: string
                alamat:
                  type: string
              required:
                - namaLengkap
                - telepon
                - teleponKeluarga
                - alamat
                - username

      responses:
        '200':
          description: Pengguna berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengguna berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: No HP sudah digunakan
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna/current/password:
    patch:
      tags:
        - Pengguna
      summary: Update pengguna password
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/password'

      responses:
        '200':
          description: Password berhasil diganti
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Password berhasil diganti
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          description: Password saat ini salah
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Password saat ini salah
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna:
    get:
      tags:
        - Pengguna
      summary: Get all pengguna
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/get_pengguna'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    post:
      tags:
        - Pengguna
      summary: Create new pengguna
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namaLengkap:
                  type: string
                telepon:
                  type: string
                teleponKeluarga:
                  type: string
                alamat:
                  type: string
                username:
                  type: string
                password:
                  type: string
              required:
                - namaLengkap
                - telepon
                - teleponKeluarga
                - alamat
                - username
                - password
      responses:
        '201':
          description: Pengguna berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengguna berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna/{id}:
    get:
      tags:
        - Pengguna
      summary: Get pengguna by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/get_pengguna'

        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Pengguna
      summary: Update pengguna
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namaLengkap:
                  type: string
                telepon:
                  type: string
                teleponKeluarga:
                  type: string
                alamat:
                  type: string
                username:
                  type: string
                password:
                  type: string
                  nullable: true
              required:
                - namaLengkap
                - telepon
                - teleponKeluarga
                - alamat
                - username
      responses:
        '200':
          description: Pengguna berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengguna berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          description: Username atau No HP sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                usernameUsed:
                  value:
                    error: username sudah digunakan
                teleponNumberUsed:
                  value:
                    error: Nomor hp sudah digunakan
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Pengguna
      summary: Delete pengguna
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Pengguna berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengguna berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Pengguna masih terkait dengan data pasien yang ada
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Pengguna masih terkait dengan data pasien yang ada
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/obat:
    get:
      tags:
        - Obat
      summary: Get all obat
      security:
        - bearerAuth: [ ]
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        namaObat:
                          type: string
                        jumlah:
                          type: integer
                        adminApotek:
                          $ref: '#/components/schemas/get_apotek'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    post:
      tags:
        - Obat
      summary: Create new obat
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namaObat:
                  type: string
                jumlah:
                  type: integer
                idAdminApotek:
                  type: integer
              required:
                - idAdminApotek
                - namaObat
                - jumlah
      responses:
        '201':
          description: Obat berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Obat berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/obat/{id}:
    get:
      tags:
        - Obat
      summary: Get obat by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      namaObat:
                        type: string
                      jumlah:
                        type: integer
                      idAdminApotek:
                        type: integer

        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    patch:
      tags:
        - Obat
      summary: Update obat
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                namaObat:
                  type: string
                jumlah:
                  type: integer
                idAdminApotek:
                  type: integer
              required:
                - idAdminApotek
                - jumlah
                - namaObat
      responses:
        '200':
          description: Obat berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Obat berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Obat
      summary: Delete obat
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Obat berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Obat berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Obat masih terkait dengan data pengambilan obat yang ada
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Obat masih terkait dengan data pengambilan obat yang ada
        '404':
          $ref: '#/components/responses/NotFoundError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pasien:
    get:
      tags:
        - Pasien
      summary: Get all pasien
      security:
        - bearerAuth: [ ]
      parameters:
        - in: query
          name: status
          schema:
            type: string
          description: Filter patients by status
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/get_pasien'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Pasien
      summary: Create new pasien aktif
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                noRekamMedis:
                  type: string
                idAdminPuskesmas:
                  type: integer
                idPengguna:
                  type: integer
                tanggalDaftar:
                  type: integer
              required:
                - noRekamMedis
                - idAdminPuskesmas
                - idPengguna
                - tanggalDaftar
      responses:
        '201':
          description: Pasien berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pasien berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pasien/{id}:
    get:
      tags:
        - Pasien
      summary: Get pasien aktif by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                      noRekamMedis:
                        type: string
                      idAdminPuskesmas:
                        type: integer
                      idPengguna:
                        type: integer
                      tanggalDaftar:
                        type: integer
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Pasien
      summary: Update pasien aktif
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                noRekamMedis:
                  type: string
                idAdminPuskesmas:
                  type: integer
                idPengguna:
                  type: integer
                tanggalDaftar:
                  type: integer
              required:
                - noRekamMedis
                - idAdminPuskesmas
                - idPengguna
                - tanggalDaftar
      responses:
        '200':
          description: Pasien berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pasien berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Pasien
      summary: Delete pasien selesai
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Pasien berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pasien berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Pasien masih terkait dengan data yang ada
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                kontrolBalik:
                  value:
                    error: Pasien masih terkait dengan data kontrol balik yang ada
                pengambilanObat:
                  value:
                    error: Pasien masih terkait dengan data pengambilan obat yang ada
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pasien/{id}/selesai:
    patch:
      tags:
        - Pasien
      summary: Tandai pasien aktif sebagai selesai
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Pasien berhasil ditandai selesai
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pasien berhasil ditandai selesai
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Pasien masih memiliki kontrol balik
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              examples:
                kontrolBalik:
                  value:
                    error: Pasien masih memiliki kontrol balik yang harus dilakukan
                pengambilanObat:
                  value:
                    error: Pasien masih memiliki pengambilan obat yang harus dilakukan
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/kontrol-balik:
    get:
      tags:
        - Kontrol Balik
      summary: Get all kontrol balik
      security:
        - bearerAuth: [ ]
      parameters:
        - in: query
          name: status
          schema:
            type: string
          description: Filter kontrol balik records by status
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        noAntrean:
                          type: integer
                        pasien:
                          $ref: '#/components/schemas/get_pasien'
                        keluhan:
                          type: string
                        tinggiBadan:
                          type: integer
                        tekananDarah:
                          type: string
                        denyutNadi:
                          type: integer
                        hasilLab:
                          type: string
                        beratBadan:
                          type: integer
                        hasilEkg:
                          type: string
                        hasilDiagnosa:
                          type: string
                        tanggalKontrol:
                          type: integer
                        status:
                          type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Kontrol Balik
      summary: Create new kontrol balik menunggu
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                idPasien:
                  type: integer
                tanggalKontrol:
                  type: integer
              required:
                - idPasien
                - tanggalKontrol
      responses:
        '201':
          description: Kontrol balik berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Kontrol balik berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/kontrol-balik/{id}:
    get:
      tags:
        - Kontrol Balik
      summary: Get kontrol balik menunggu by id
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                      noAntrean:
                        type: integer
                      idPasien:
                        type: integer
                      keluhan:
                        type: string
                      tinggiBadan:
                        type: integer
                      tekananDarah:
                        type: string
                      denyutNadi:
                        type: integer
                      hasilLab:
                        type: string
                      beratBadan:
                        type: integer
                      hasilEkg:
                        type: string
                      hasilDiagnosa:
                        type: string
                      tanggalKontrol:
                        type: integer
                      status:
                        type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Kontrol Balik
      summary: Update kontrol balik menunggu
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                noAntrean:
                  type: integer
                idPasien:
                  type: integer
                keluhan:
                  type: string
                  nullable: true
                tinggiBadan:
                  type: integer
                  nullable: true
                tekananDarah:
                  type: string
                  nullable: true
                denyutNadi:
                  type: integer
                  nullable: true
                hasilLab:
                  type: string
                  nullable: true
                beratBadan:
                  type: integer
                  nullable: true
                hasilEkg:
                  type: string
                  nullable: true
                hasilDiagnosa:
                  type: string
                  nullable: true
                tanggalKontrol:
                  type: integer
              required:
                - noAntrean
                - idPasien
                - tanggalKontrol
      responses:
        '200':
          description: Kontrol balik berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Kontrol balik berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Nomor antrean pada tanggal tersebut sudah digunakan
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
              example: Nomor antrean pada tanggal tersebut sudah digunakan
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Kontrol Balik
      summary: Delete kontrol balik selesai atau batal
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Kontrol balik berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Kontrol balik berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/kontrol-balik/{id}/selesai:
    patch:
      tags:
        - Kontrol Balik
      summary: Tandai kontrol balik menunggu sebagai selesai
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Kontrol balik berhasil ditandai selesai
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pasien berhasil ditandai selesai
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/kontrol-balik/{id}/batal:
    patch:
      tags:
        - Kontrol Balik
      summary: Tandai kontrol balik menunggu sebagai batal
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Kontrol balik berhasil ditandai batal
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Kontrol balik berhasil ditandai batal
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengambilan-obat:
    get:
      tags:
        - Pengambilan Obat
      summary: Get all pengambilan obat
      security:
        - bearerAuth: [ ]
      parameters:
        - in: query
          name: status
          schema:
            type: string
          description: Filter pengambilan obat records by status
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        resi:
                          type: string
                        obat:
                          type: object
                          properties:
                            id:
                              type: integer
                            namaObat:
                              type: string
                            jumlah:
                              type: integer
                            adminApotek:
                              $ref: '#/components/schemas/get_apotek'
                        pasien:
                          $ref: '#/components/schemas/get_pasien'
                        jumlah:
                          type: integer
                        tanggalPengambilan:
                          type: integer
                        status:
                          type: string
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Pengambilan Obat
      summary: Create new pengambilan obat menunggu
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                idObat:
                  type: integer
                idPasien:
                  type: integer
                jumlah:
                  type: integer
                tanggalPengambilan:
                  type: integer
                status:
                  type: string
              required:
                - idPasien
                - status
                - jumlah
                - idAdminApotek
                - idObat
                - tanggalPengambilan
      responses:
        '201':
          description: Pengambilan obat berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengambilan obat berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Jumlah obat melebihi persediaan apotek
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Jumlah obat melebihi persediaan apotek
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengambilan-obat/{id}:
    get:
      tags:
        - Pengambilan Obat
      summary: Get pengambilan obat menunggu by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                      idObat:
                        type: integer
                      idPasien:
                        type: integer
                      jumlah:
                        type: integer
                      tanggalPengambilan:
                        type: integer
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Pengambilan Obat
      summary: Update pengambilan obat menunggu
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                idObat:
                  type: integer
                idPasien:
                  type: integer
                jumlah:
                  type: integer
                tanggalPengambilan:
                  type: integer
              required:
                - idPasien
                - jumlah
                - idAdminApotek
                - idObat
                - tanggalPengambilan
      responses:
        '200':
          description: Pengambilan obat berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengambilan obat berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          description: Jumlah obat melebihi persediaan apotek
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Jumlah obat melebihi persediaan apotek
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
    delete:
      tags:
        - Pengambilan Obat
      summary: Delete pengambilan obat diambil atau batal
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Pengambilan obat berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengambilan obat berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengambilan-obat/{id}/diambil:
    patch:
      tags:
        - Pengambilan Obat
      summary: Tandai pengambilan obat menunggu sebagai diambil
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Pickup marked successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengambilan obat berhasil ditandai diambil
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengambilan-obat/{id}/batal:
    patch:
      tags:
        - Pengambilan Obat
      summary: Tandai pengambilan obat menunggu sebagai batal
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Pickup marked successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Pengambilan obat berhasil ditandai batal
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/pengguna/current/perangkat:
    patch:
      tags:
        - Pengguna
      summary: Update tokenPerangkat
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                tokenPerangkat:
                  type: string
              required:
                - tokenPerangkat
      responses:
        '200':
          description: Token perangkat pengguna berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Token perangkat pengguna berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /api/artikel:
    get:
      tags:
        - Artikel
      summary: Get all artikel
      security:
        - bearerAuth: [ ]
      parameters:
        - in: query
          name: idAdminPuskesmas
          schema:
            type: integer
          description: Filter artikel by id admin puskesmas
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        adminPuskesmas:
                          $ref: '#/components/schemas/get_puskesmas'
                        judul:
                          type: string
                        isi:
                          type: string
                        tanggalPublikasi:
                          type: integer
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Artikel
      summary: Create new artikel
      security:
        - bearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                idAdminPuskesmas:
                  type: integer
                judul:
                  type: string
                ringkasan:
                  type: string
                isi:
                  type: string
              required:
                - judul
                - ringkasan
                - isi
      responses:
        '201':
          description: Artikel berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Artikel berhasil dibuat
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /api/artikel/{id}:
    get:
      tags:
        - Artikel
      summary: Get artikel by id
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                      adminPuskesmas:
                        $ref: '#/components/schemas/get_puskesmas'
                      judul:
                        type: string
                      ringkasan:
                        type: string
                      isi:
                        type: string
                      tanggalPublikasi:
                        type: integer

        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Artikel
      summary: Update pasien aktif
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                idAdminPuskesmas:
                  type: integer
                judul:
                  type: string
                ringkasan:
                  type: string
                isi:
                  type: string
              required:
                - judul
                - ringkasan
                - isi
                - idAdminPuskesmas
      responses:
        '200':
          description: Artikel berhasil diupdate
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Artikel berhasil diupdate
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Artikel
      summary: Delete artikel
      security:
        - bearerAuth: [ ]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Artikel berhasil dihapus
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: string
                    example: Artikel berhasil dihapus
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '408':
          $ref: '#/components/responses/ForbiddenError'
        '500':
          $ref: '#/components/responses/InternalServerError'